<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>facter: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">facter
   &#160;<span id="projectnumber">3.0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">facter Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>An implementation of facter functionality in C++11, providing:</p>
<ul>
<li>a shared library which gather facts about the system</li>
<li>an executable for standalone command line usage</li>
<li>a ruby file to enable <code>require 'facter'</code>.</li>
</ul>
<p>Please see our https://github.com/puppetlabs/facter/blob/master/Extensibility.md "extensibility document" to learn more about extending native facter using custom and external facts.</p>
<h2>Build Requirements </h2>
<ul>
<li>GCC 4.8+ or Clang 5.0+ (OSX)</li>
<li>CMake &gt;= 2.8.12</li>
<li>Boost C++ Libraries &gt;= 1.54</li>
<li>yaml-cpp &gt;= 0.5.1</li>
</ul>
<h2>Optional Build Libraries </h2>
<ul>
<li>OpenSSL - enables SSH fingerprinting facts.</li>
<li>libblkid (Linux only) - enables the partitions fact.</li>
<li>libcurl &gt;= 7.18.0 - enables facts that perform HTTP requests.</li>
</ul>
<h2>Initial Setup </h2>
<p>Note: Testing custom facts requires Ruby 1.9+ with libruby built as a dynamic library; that often implies development builds of Ruby.</p>
<h3>Setup on Fedora 20</h3>
<p>The following will install all required tools and libraries: </p><pre class="fragment">yum install cmake boost-devel openssl-devel yaml-cpp-devel libblkid-devel libcurl-devel gcc-c++ make
</pre><h3>Setup on Mac OSX Mavericks (homebrew)</h3>
<p>This assumes Clang is installed and the system OpenSSL libraries will be used.</p>
<p>The following will install all required libraries: </p><pre class="fragment">brew install cmake boost yaml-cpp
</pre><h3>Setup on Ubuntu 14.04 (Trusty)</h3>
<p>The following will install most required tools and libraries: </p><pre class="fragment">apt-get install build-essential cmake libboost-all-dev libssl-dev libyaml-cpp-dev libblkid-dev libcurl4-openssl-dev
</pre><h3>Setup on Windows</h3>
<p><a href="http://mingw-w64.sourceforge.net/">MinGW-w64</a> is used for full C++11 support, and <a href="https://chocolatey.org">Chocolatey</a> can be used to install. You should have at least 2GB of memory for compilation.</p>
<ul>
<li>install <a href="https://chocolatey.org/packages/cmake">CMake</a></li>
<li>install <a href="https://chocolatey.org/packages/mingw">MinGW-w64</a> <pre class="fragment">  choco install mingw --params "/threads:win32"
</pre></li>
</ul>
<p>For the remaining tasks, build commands can be executed in the shell from Start &gt; MinGW-w64 project &gt; Run Terminal</p>
<ul>
<li>select an install location for dependencies, such as C:\tools or cmake\release\ext; we'll refer to it as $install</li>
<li>build <a href="http://sourceforge.net/projects/boost/files/latest/download">Boost</a> <pre class="fragment">  .\bootstrap mingw
  .\b2 toolset=gcc --build-type=minimal install --prefix=$install --with-program_options --with-system --with-filesystem --with-date_time --with-thread --with-regex --with-log --with-locale --with-chrono boost.locale.iconv=off
</pre></li>
<li>build <a href="https://code.google.com/p/yaml-cpp/downloads">yaml-cpp</a> <pre class="fragment">  cmake -G "MinGW Makefiles" -DCMAKE_PREFIX_PATH=$install -DCMAKE_INSTALL_PREFIX=$install .
  mingw32-make install
</pre></li>
<li>build <a href="http://curl.haxx.se/download">libcurl</a> <pre class="fragment">  mingw32-make mingw32
  cp -r include\curl $install\include
  cp -r lib\libcurl.a $install\lib
</pre></li>
</ul>
<p>In Powershell: </p><pre class="fragment">choco install cmake 7zip.commandline -y
choco install mingw --params "/threads:win32" -y
$env:PATH = "C:\tools\mingw64\bin;$env:PATH"
$install = "C:\tools"

(New-Object Net.WebClient).DownloadFile("https://downloads.sourceforge.net/boost/boost_1_54_0.7z", "$pwd/boost_1_54_0.7z")
7za x boost_1_54_0.7z
pushd boost_1_54_0
.\bootstrap mingw
.\b2 toolset=gcc --build-type=minimal install --prefix=$install --with-program_options --with-system --with-filesystem --with-date_time --with-thread --with-regex --with-log --with-locale --with-chrono boost.locale.iconv=off
popd

(New-Object Net.WebClient).DownloadFile("https://yaml-cpp.googlecode.com/files/yaml-cpp-0.5.1.tar.gz", "$pwd/yaml-cpp-0.5.1.tar.gz")
7za x yaml-cpp-0.5.1.tar.gz
7za x yaml-cpp-0.5.1.tar
pushd yaml-cpp-0.5.1
cmake -G "MinGW Makefiles" -DCMAKE_PREFIX_PATH="$install" -DCMAKE_INSTALL_PREFIX="$install" .
mingw32-make install
popd

(New-Object Net.WebClient).DownloadFile("http://curl.haxx.se/download/curl-7.42.1.zip", "$pwd/curl-7.42.1.zip")
7za x curl-7.42.1.zip
pushd curl-7.42.1
mingw32-make mingw32
cp -r include\curl $install\include
cp -r lib\libcurl.a $install\lib
popd
</pre><p>Note that OpenSSL isn't needed on Windows.</p>
<h2>Pre-Build </h2>
<p>All of the following examples start by assuming the current directory is the root of the repo.</p>
<p>Note the use of git submodules, so use <code>git submodule update --init</code> to ensure the submodules are populated.</p>
<p>On Windows, add <code>-G "MinGW Makefiles" -DCMAKE_PREFIX_PATH=\&lt;binary install path\&gt; -DBOOST_STATIC=ON</code> to the <code>cmake</code> invocation.</p>
<p>Before building facter, use <code>cmake</code> to generate build files: </p><pre class="fragment">$ mkdir release
$ cd release
$ cmake ..
</pre><p>To generate build files with debug information: </p><pre class="fragment">$ mkdir debug
$ cd debug
$ cmake -DCMAKE_BUILD_TYPE=Debug ..
</pre><h2>Build </h2>
<p>To build facter, use 'make': </p><pre class="fragment">$ cd release
$ make
</pre><p>To build facter with debug information: </p><pre class="fragment">$ cd debug
$ make
</pre><h2>Run </h2>
<p>You can run facter from where it was built:</p>
<p><code>$ release/bin/facter</code></p>
<p>For a debug build:</p>
<p><code>$ debug/bin/facter</code></p>
<h2>Test </h2>
<p>If a ruby was found during configuration, execute the following command before running tests: </p><pre class="fragment">$ bundle install --gemfile lib/Gemfile
</pre><p>You can run facter tests using the test target: </p><pre class="fragment">$ cd release
$ make test
</pre><p>For a debug build: </p><pre class="fragment">$ cd debug
$ make test
</pre><p>For verbose test output, run <code>ctest</code> instead of using the test target: </p><pre class="fragment">$ cd release
$ ctest -V
</pre><h2>Install </h2>
<p>You can install facter into your system: </p><pre class="fragment">$ cd release
$ make &amp;&amp; sudo make install
</pre><p>By default, facter will install files into <code>/usr/local/bin</code>, <code>/usr/local/lib</code>, and <code>/usr/local/include</code>. If the project is configured with Ruby in the PATH, facter.rb will be installed to that Ruby's vendor dir.</p>
<p>To install to a different location, set the install prefix: </p><pre class="fragment">$ cd release
$ cmake -DCMAKE_INSTALL_PREFIX=~ ..
$ make clean install
</pre><p>This would install facter into <code>~/bin</code>, <code>~/lib</code>, and <code>~/include</code>.</p>
<h2>Ruby Usage </h2>
<p>Using the Ruby API requires that facter.rb is installed into the Ruby load path, as done in the previous install steps.</p>
<p>```ruby require 'facter'</p>
<h1>Use the Facter API...</h1>
<p>puts "kernel: #{Facter.value(:kernel)}" ```</p>
<h2>Uninstall </h2>
<p>Run the following command to remove files that were previously installed: </p><pre class="fragment">$ sudo xargs rm &lt; release/install_manifest.txt
</pre><h2>Documentation </h2>
<p>To generate API documentation, install doxygen 1.8.7 or later. </p><pre class="fragment">$ cd lib
$ doxygen
</pre><p>To view the documentation, open <code>lib/html/index.html</code> in a web browser. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 23 2015 15:58:02 for facter by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
